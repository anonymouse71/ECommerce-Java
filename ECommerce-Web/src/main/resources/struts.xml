<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE struts PUBLIC
  "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN" "http://struts.apache.org/dtds/struts-2.0.dtd">

<!--suppress Struts2ModelInspection -->
<struts>
    <constant name="struts.objectFactory" value="org.apache.struts2.spring.StrutsSpringObjectFactory" />
    <constant name="struts.enable.DynamicMethodInvocation" value="true"/>
    <constant name="struts.action.excludePattern" value="/rest/.*,/crossapp" />

	<package name="com.appdy.*" extends="struts-default" >
		<interceptors>
			<interceptor-stack name="commonStack">
				<interceptor-ref name="paramsPrepareParamsStack"/>
			</interceptor-stack>
		</interceptors>		
		
		<action name="UserLogin" method="memberLogin"
			class="com.appdynamicspilot.action.UserLoginAction">
			<interceptor-ref name="commonStack" />
			<result name="SUCCESS" type="redirectAction">ViewItems</result>
			<result name="FAILURE">/WEB-INF/presentation/login.jsp</result>
			<result name="LOGOUT" type="redirectAction">UserLogOut</result>
			<result name="CONTINUE_CHECKOUT" type="redirectAction">Checkout.action</result>
		</action>
		
		<action name="UserLogOut" method="memberLogOut"
			class="com.appdynamicspilot.action.UserLoginAction">
			<interceptor-ref name="commonStack" />
			<result name="SUCCESS">/WEB-INF/presentation/login.jsp</result>
		</action>
		
		<action name="ViewItems" method="getAllItems"
		class="com.appdynamicspilot.action.ItemAction">
			<interceptor-ref name="commonStack" />
			<result name="SUCCESS">/WEB-INF/presentation/items.jsp</result>
			<result name="LOGOUT" type="redirectAction">UserLogOut</result>
		</action>
		
		<action name="ViewItems2" method="getAllItems"
		class="com.appdynamicspilot.action.CartAction2">
			<interceptor-ref name="commonStack" />
			<result name="SUCCESS">/WEB-INF/presentation/items.jsp</result>
			<result name="LOGOUT" type="redirectAction">UserLogOut</result>
		</action>

		<action name="ViewDescription" class="com.appdynamicspilot.action.ViewDescription" method="view">
			<interceptor-ref name="commonStack" />
			<result name="SUCCESS">/WEB-INF/presentation/detail.jsp</result>
			<result name="FAILURE">/404.jsp</result>
		</action>
		
		<action name="ViewCart" class="com.appdynamicspilot.action.CartAction">
			<interceptor-ref name="commonStack" />
			<result name="SUCCESS">/WEB-INF/presentation/cart_summary.jsp</result>
			<result name="ORDER_DETAILS">/WEB-INF/presentation/cart_summary.jsp</result>
			<result name="FAILURE" type="redirectAction">ViewItems</result>
			<result name="LOGOUT" type="redirectAction">UserLogOut</result>
			<result name="ENDPAGE">/WEB-INF/presentation/endPage.jsp</result>
		</action>

		<action name="Checkout" class="com.appdynamicspilot.action.CheckoutAction" method="doCheckout">
			<interceptor-ref name="commonStack" />
			<result name="SUCCESS">/WEB-INF/presentation/checkout_summary.jsp</result>
			<result name="ORDER_DETAILS">/WEB-INF/presentation/cart_summary.jsp</result>
			<result name="CREDIT_CARD_DETAILS">/WEB-INF/presentation/cc_details.jsp</result>
			<result name="LOGIN_OR_REGISTER">/WEB-INF/presentation/login_or_reg.jsp</result>
			<result name="LOGOUT" type="redirectAction">UserLogOut</result>
			<result name="SHIPPING_CONFIRM">/WEB-INF/presentation/shipping.jsp</result>
			<result name="ENDPAGE">/WEB-INF/presentation/endPage.jsp</result>
		</action>
        
        <action name="AsynCall" class="com.appdynamicspilot.action.AsynCallAction" method="createChildThread">
            <interceptor-ref name="commonStack" />
            <result name="SUCCESS">/WEB-INF/presentation/cart_summary.jsp</result>
            <result name="FAILURE" type="redirectAction">ViewItems</result>
            <result name="LOGOUT" type="redirectAction">UserLogOut</result>
            <result name="ENDPAGE">/WEB-INF/presentation/endPage.jsp</result>
        </action>
        
        <action name="ProductSearch" class="com.appdynamicspilot.action.BTOverloadAction">
            <interceptor-ref name="commonStack" />
            <result name="SUCCESS">/WEB-INF/presentation/cart_summary.jsp</result>
            <result name="FAILURE" type="redirectAction">ViewItems</result>
            <result name="LOGOUT" type="redirectAction">UserLogOut</result>
            <result name="ENDPAGE">/WEB-INF/presentation/endPage.jsp</result>
        </action>
        
        <action name="ViewPreference" class="com.appdynamicspilot.action.MemoryLeakAction" method="increase">
            <interceptor-ref name="commonStack" />
            <result name="SUCCESS">/WEB-INF/presentation/memoryLeak.jsp</result>
            <result name="FAILURE" type="redirectAction">ViewItems</result>
            <result name="LOGOUT" type="redirectAction">UserLogOut</result>
            <result name="ENDPAGE">/WEB-INF/presentation/endPage.jsp</result>
        </action>
        
        <action name="SavePreference" class="com.appdynamicspilot.action.MemoryLeakAction" method="clear">
            <interceptor-ref name="commonStack" />
            <result name="SUCCESS">/WEB-INF/presentation/memoryLeak.jsp</result>
            <result name="FAILURE" type="redirectAction">ViewItems</result>
            <result name="LOGOUT" type="redirectAction">UserLogOut</result>
            <result name="ENDPAGE">/WEB-INF/presentation/endPage.jsp</result>
        </action>
		
        <action name="DirectPayment">
             <result>/WEB-INF/presentation/directPayment.jsp</result>
        </action>
	</package>
</struts>
